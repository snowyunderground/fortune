<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SNOWY UNDER OMIKUJI</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    background-color: black;
    color: white;
    height: 100%;
    font-family: sans-serif;
    overflow-x: hidden;
  }
  .container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  img {
    max-width: 90%;
    height: auto;
  }
  h2 {
    background: linear-gradient(45deg, violet, indigo, blue, green, yellow, orange, red);
    -webkit-background-clip: text;
    color: transparent;
    font-size: 36px;
    font-weight: bold;
    margin-bottom: 20px;
  }
  #result {
    margin-top: 30px;
    font-size: 20px;
    line-height: 2em;
    white-space: pre-line;
    opacity: 0;
    transform: translateY(-30px);
    transition: opacity 1s ease, transform 1s ease;
  }
  #result.show {
    opacity: 1;
    transform: translateY(0);
  }
  #shareButton, #musicButton {
    margin-top: 20px;
    background-color: #1DA1F2;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 18px;
    border-radius: 5px;
    cursor: pointer;
    text-decoration: none;
  }
  #musicButton {
    background-color: #ff66cc; /* 音源リンクボタンはピンクに */
  }
  button {
    padding: 15px 30px;
    font-size: 24px;
    background: linear-gradient(45deg, #ff3366, #ffcc33);
    border: 2px solid #fff;
    color: white;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0px 0px 15px rgba(255, 0, 0, 0.6);
    transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    text-transform: uppercase;
    font-weight: bold;
  }
  button:hover {
    background: linear-gradient(45deg, #ffcc33, #ff3366);
    transform: scale(1.1);
    box-shadow: 0px 0px 25px rgba(255, 0, 0, 0.8);
  }
  button:active {
    transform: scale(0.95);
  }
</style>
</head>
<body>

<div class="container" id="container">
  <img src="https://lh3.googleusercontent.com/pw/AP1GczOH_tNjrElU_ZsQZ0SzL-Yds4-ETI5KVno2cHEYhOm_hCJnkyPFUCQOr-b5dA_evXAjyZ2YEHCcG-ZzgxJWEJFBQgG5gdcCsKn3rAazDLTsHywI5my9=w2400" alt="SNOWY UNDERロゴ">
  
  <h2>SNOWY UNDER OMIKUJI</h2>

  <button onclick="drawOmikuji()">占ってみる</button>

  <div id="result"></div>

  <button id="shareButton" style="display: none;" onclick="shareResult()">Xにポストする</button>
  <a id="musicButton" href="#" target="_blank" style="display: none;">音源情報を見る</a>
</div>

<script>
  let resultText = "";

  function drawOmikuji() {
    const today = new Date();
    const currentTime = today.getTime();
    const lastDrawnDate = localStorage.getItem('lastDrawnDate');
    const lastDrawnTime = localStorage.getItem('lastDrawnTime');

    const resetTime = new Date();
    resetTime.setHours(5, 0, 0, 0);
    if (currentTime > resetTime.getTime()) {
      localStorage.setItem('lastDrawnDate', null);
      localStorage.setItem('lastDrawnTime', null);
    }

    if (lastDrawnDate && lastDrawnDate === today.toISOString().split('T')[0]) {
      alert("今日はすでに占いました。明日までお待ちください。");
      return;
    }

    const fortunes = ["世界は君を中心に動く最強の1日", "もう笑いが止まんねぇ日", "ごはんがおいしい日", "無風…逆に一番かもな日", "なんかもう心がザワザワする…日",  "引き篭もるが吉な日", "諦めて明日は良い1日になるはずだ…よ"];
    const numbers = ["Sink in white(Sink in white-p.e-収録)", "ラストクリスマス(Sink in white-p.e-収録)", "Gravity of luv(Sink in white-p.e-収録)", "月明かりと弱虫(Sink in white-p.e-収録)", "最愛と最哀(Sink in white-p.e-収録)", "A secret of under the snow(Sink in white-p.e-収録)", "結び目(Sink in white-p.e-収録)", "遺言", "蝶とマリー（忘れてください-p.e-収録）", "忘れて下さい（忘れてください-p.e-収録）", "極彩色の灰世界で（忘れてください-p.e-収録）", "とんがり帽子と苺ケーキ（忘れてください-p.e-収録）", "THE ONE（忘れてください-p.e-収録）", "HONEY(PINK TAPIR収録)", "卒業(PINK TAPIR収録)", "Sleepy hollow(PINK TAPIR収録)", "the sadman(PINK TAPIR収録)", "Pretend not to see(PINK TAPIR収録)", "百年桜(PINK TAPIR収録)", "さくら(PINK TAPIR収録)", "ゴースト(GHOSTNOTE収録）", "ロミ夫とジュリ恵さん(GHOSTNOTE収録）", "秒_沁(GHOSTNOTE収録）", "Ultra Hyper Soul(GHOSTNOTE収録）", "LONGINUS(GHOSTNOTE収録）", "ホーリーグレイル・シンドローム(GHOSTNOTE収録）", "Vestiges(GHOSTNOTE収録）", "STAY(GHOSTNOTE収録）", "blue on blue(blue on blue収録)", "マリンスノウ(blue on blue収録)", "シネマチック・ブギー・ナイト(blue on blue収録)", "透明な花(blue on blue収録)", "Spider’s Aim(blue on blue収録)", "Voyage(blue on blue収録)", "陽炎(blue on blue収録)", "Hello,Crappy World(blue on blue収録)", "DRAGON WARS あわよくば伝説へ(blue on blue収録)", "No,Summerdays(blue on blue収録)", "君に会いに行くよ(blue on blue収録)", "Violet fear(Violet fear収録)", "ハッピィデイズ(Violet fear収録)", "りせっとぼたん(Violet fear収録)", "ヘヴンズアンブレラ(Violet fear収録)", "Bloody Love Song(Violet fear収録)", "Midnight Pumpkin Drive(Violet fear収録)", "楓恋(Violet fear収録)", "シオン(Violet fear収録)", "Between the sky and you(Violet fear収録)", "embers(Violet fear収録)", "MUSEUM(MUSEUM収録)", "落日(MUSEUM収録)", "桃色MURDER SHOW(MUSEUM収録)", "心葬の月(MUSEUM収録)", "星屑(MUSEUM収録)", "溺愛本能ステータス(MUSEUM収録)", "負け猫は遠吠える(MUSEUM収録)", "緋い絲(MUSEUM収録)", "殉職トリックスター(MUSEUM収録)", "イノセントワールド(MUSEUM収録)", "離魂届(MUSEUM収録)", "クリスマスイヴの夜は部屋にお父さんお母さんが入って来ても寝たふりが好ましいと思います(MUSEUM収録)", "極悪御法度天誅殺(MUSEUM収録)", "Chocolate Discord(Chocolate Discord収録)", "21g(Chocolate Discord収録)", "Theory of evolution(Chocolate Discord収録)", "Brain in a vat(Chocolate Discord収録)", "regret(Chocolate Discord収録)", "52ヘルツの鯨(Chocolate Discord収録)", "Wizard(Chocolate Discord収録)", "THE INNER BEAST(Singer in the dark収録)", "世界で一つだけの花(Singer in the dark収録)", "シーソーゲーム(Singer in the dark収録)", "眠れる森(Singer in the dark収録)", "あとがき(Singer in the dark収録)", "Alchemy(Singer in the dark収録)", "メガロドン(Singer in the dark収録)", "プラナリア(Singer in the dark収録)", "パラダイス・ロスト(Singer in the dark収録)", "マスカレード(Singer in the dark収録)", "紫陽花と雨の夜(Singer in the dark収録)", "小規模な愛の唄(Singer in the dark収録)", "ライフ・イズ・ビューティフル(Singer in the dark収録)", "惨獄死(Singer in the dark収録)", "バナナはおやつに入りません(Singer in the dark収録)", "真夜中のサーカス(THE END IS THE BEGINNING収録)", "Another Cosmos(THE END IS THE BEGINNING収録)", "シルバニア家族(THE END IS THE BEGINNING収録)", "evergreen(THE END IS THE BEGINNING収録)", "Eden for automata(THE END IS THE BEGINNING収録)", "GUILTY(THE END IS THE BEGINNING収録)", "エンドロール(THE END IS THE BEGINNING収録)", "forbidden flame(THE END IS THE BEGINNING収録)", "Little adventure in my room(THE END IS THE BEGINNING収録)", "Magnetar(THE END IS THE BEGINNING収録)", "vlinder(THE END IS THE BEGINNING収録)", "灰とダイヤモンド(THE END IS THE BEGINNING収録)", "ないものねだり(THE END IS THE BEGINNING収録)", "Pray(THE END IS THE BEGINNING収録)", "バタフライ・エフェクト(MUSEUM Ⅱ収録)", "毒(MUSEUM Ⅱ収録)", "苺センチメンタル(MUSEUM Ⅱ収録)", "SUPER CHORD(MUSEUM Ⅱ収録)", "六本木心中(MUSEUM Ⅱ収録)", "終着駅(MUSEUM Ⅱ収録)", "エル(MUSEUM Ⅱ収録)", "君が望む永遠と僕が欲しかった唯一の倖せ(MUSEUM Ⅱ収録)", "Smiley killer tune Z(MUSEUM Ⅱ収録)", "課長風月(MUSEUM Ⅱ収録)", "星屑セレネイド(MUSEUM Ⅱ収録)", "雪の花(MUSEUM Ⅱ収録)", "滅殺興行八九三式(MUSEUM Ⅱ収録)", "ray not disappear(MUSEUM Ⅱ収録)", "天使(MUSEUM Ⅱ収録)", "ジャック・スパ郎(heavenly!heavenly!heavenly!収録)", "heavenly(heavenly!heavenly!heavenly!収録)", "スピカ(heavenly!heavenly!heavenly!収録)", "北斗の件(heavenly!heavenly!heavenly!収録)", "鎮痛薬(heavenly!heavenly!heavenly!収録)", "サイコパる(heavenly!heavenly!heavenly!収録)", "GOLD HAZE(heavenly!heavenly!heavenly!収録)", "讃美歌(heavenly!heavenly!heavenly!収録)", "くたくたのブランケット(heavenly!heavenly!heavenly!収録)", "東京懐色ラプソディー(heavenly!heavenly!heavenly!収録)", "PAINS LABYRINTH(ORIGINAL SIN収録)", "堕天(ORIGINAL SIN収録)", "LAND MINE GIRL(ORIGINAL SIN収録)", "Necessary?(ORIGINAL SIN収録)", "惑(ORIGINAL SIN収録)", "ドッペる(ORIGINAL SIN収録)", "too young to die(ORIGINAL SIN収録)", "Reincarnation(ORIGINAL SIN収録)", "mosquitone(ORIGINAL SIN収録)", "太陽(ORIGINAL SIN収録)", "BeAUTIFUL MInd people(TOO HIGH DIMENSION収録)", "Orange(TOO HIGH DIMENSION収録)", "Insect invasion(TOO HIGH DIMENSION収録)", "セイレーン(TOO HIGH DIMENSION収録)", "エリーゼのために(TOO HIGH DIMENSION収録)", "熱帯夜(TOO HIGH DIMENSION収録)", "EPHEMERAL KINGDOM(TOO HIGH DIMENSION収録)", "三日月(TOO HIGH DIMENSION収録)", "Allergie(TOO HIGH DIMENSION収録)", "Mole(TOO HIGH DIMENSION収録)", "CK.L(Still life goes on)", "ハリネズミ(Still life goes on)", "残り香(Still life goes on)", "Dead carpet(Still life goes on)", "オルフェ(Still life goes on)", "Wednesday(Still life goes on)", "nightmare(Still life goes on)", "atmosphere(Still life goes on)", "etude(Still life goes on)", "Hermit crab(Still life goes on)", "Life goes on(Still life goes on)", "ナイトライダー(TAMED SPEED収録)", "Door(TAMED SPEED収録)", "impurities(TAMED SPEED収録)", "Movin’on(TAMED SPEED収録)", "rainy blues(TAMED SPEED収録)", "to the next(TAMED SPEED収録)", "ラフレシア(TAMED SPEED収録)", "ホームシック(TAMED SPEED収録)", "ヒロイン(TAMED SPEED収録)", "Sign(TAMED SPEED収録)", "タイガー＆ドラゴン(Inferior to animals収録)", "ポケットの魔物(Inferior to animals収録)", "Delay(Inferior to animals収録)", "Wolves howling(Inferior to animals収録)", "ORNAMENTAL(Inferior to animals収録)", "hyena(Inferior to animals収録)", "aquarium(Inferior to animals収録)", "the Thinking dead(Inferior to animals収録)", "Shallow scheme(Inferior to animals収録)", "惑星(Inferior to animals収録)", "HELLy Christmas", "Maze walker(FAIRYTALE ADDICTION収録)", "STRANGE LAND(FAIRYTALE ADDICTION収録)", "Little Red Riding Hood(FAIRYTALE ADDICTION収録)", "The Wicked Witch of the West(FAIRYTALE ADDICTION収録)", "True Lies(FAIRYTALE ADDICTION収録)", "NEVERLAND(FAIRYTALE ADDICTION収録)", "愛のままにわがままに僕は君だけを傷つけちゃうかもしれない(FAIRYTALE ADDICTION収録)", "Mr.Invincible(FAIRYTALE ADDICTION収録)", "諸刃の剣(FAIRYTALE ADDICTION収録)", "ヒカリトカゲ(FAIRYTALE ADDICTION収録)", "Hopeless town(Hopeless town収録)", "BADMAN(Hopeless town収録)", "GODS HAND(Hopeless town収録)", "Crack(Hopeless town収録)", "darker than darkness(Hopeless town収録)", "monopoly(Hopeless town収録)", "Know your limits(Hopeless town収録)", "爆ぜる(Hopeless town収録)", "怪物(Hopeless town収録)", "Across the way(Hopeless town収録)"];

    const fortune = fortunes[Math.floor(Math.random() * fortunes.length)];
    const number = numbers[Math.floor(Math.random() * numbers.length)];

    resultText =
      "今日は……\n" +
      fortune + "\n" +
      "今日はこの曲を聴くと最高♩\n" +
      number;

    const resultDiv = document.getElementById("result");

    let color;
    switch(fortune) {
      case "世界は君を中心に動く最強の1日":
        color = "gold";
        break;
      case "もう笑いが止まんねぇ日":
        color = "lightblue";
        break;
      case "ごはんがおいしい日":
        color = "white";
        break;
      case "無風…逆に一番かもな日":
        color = "red";
        break;
      case "なんかもう心がザワザワする…日":
        color = "green";
        break;
　　case "引き篭もるが吉な日":
        color = "pink";
        break;
　　case "もう諦めて明日は良い1日になるはずだ…よ":
        color = "purple";
        break;
      default:
        color = "white";
    }

    resultDiv.style.color = color;
    resultDiv.classList.remove("show");
    void resultDiv.offsetWidth;
    resultDiv.textContent = resultText;
    
    setTimeout(() => {
      resultDiv.classList.add("show");
    }, 50);

    // シェアボタンを表示
    document.getElementById("shareButton").style.display = "inline-block";

    // 音源情報ボタンの設定
    const musicButton = document.getElementById("musicButton");

    if (number === "Sink in white(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
    } else if (number === "ラストクリスマス(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
 } else if (number === "Gravity of luv(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
 } else if (number === "月明かりと弱虫(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
 } else if (number === "最愛と最哀(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
 } else if (number === "A secret under the snow(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
 } else if (number === "結び目(Sink in white-p.e-収録）") {
      musicButton.href = "https://linkco.re/PzmVnz62";
      musicButton.style.display = "inline-block";
 } else if (number === "遺言") {
      musicButton.href = "https://linkco.re/880faBsu";
      musicButton.style.display = "inline-block";
 } else if (number === "蝶とマリー(忘れて下さい-p.e-収録）") {
      musicButton.href = "https://linkco.re/UHepNv67";
      musicButton.style.display = "inline-block";
 } else if (number === "忘れて下さい(忘れて下さい-p.e-収録）") {
      musicButton.href = "https://linkco.re/UHepNv67";
      musicButton.style.display = "inline-block";
 } else if (number === "極彩色の灰世界で(忘れて下さい-p.e-収録）") {
      musicButton.href = "https://linkco.re/UHepNv67";
      musicButton.style.display = "inline-block";
 } else if (number === "とんがり帽子と苺ケーキ(忘れて下さい-p.e-収録）") {
      musicButton.href = "https://linkco.re/UHepNv67";
      musicButton.style.display = "inline-block";
 } else if (number === "THE ONE(忘れて下さい-p.e-収録）") {
      musicButton.href = "https://linkco.re/UHepNv67";
      musicButton.style.display = "inline-block";

    } else if (number === "③") {
      musicButton.href = "https://linkco.re/vESsScZr";
      musicButton.style.display = "inline-block";
    } else {
      musicButton.style.display = "none";
    }

    localStorage.setItem('lastDrawnDate', today.toISOString().split('T')[0]);
    localStorage.setItem('lastDrawnTime', currentTime);
  }

  function shareResult() {
    const encodedText = encodeURIComponent(resultText);
    const url = `https://twitter.com/intent/tweet?text=${encodedText}`;
    window.open(url, "_blank");
  }
</script>

</body>
</html>
